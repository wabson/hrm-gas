<script>
    var Runner = function () {
    };
    Runner.prototype.withSuccessHandler = function(successHandler) {
        this.successHandler = successHandler;
        return this;
    };
    Runner.prototype.withFailureHandler = function(failureHandler) {
        this.failureHandler = failureHandler;
        return this;
    };
    Runner.prototype.withUserObject = function(obj) {
        this.userObject = obj;
        return this;
    };
    Runner.prototype.addData = function(fnName, data) {
        this[fnName] = function() {
            this.successHandler(data, this.userObject);
        }.bind(this);
    };

    var runner = new Runner();
    runner.addData('dialog_start_getRaceTemplates', [{
        id: '1',
        type: 'HRM',
        name: 'Hasler Race'
    }, {
        id: '2',
        type: 'NRM',
        name: 'Nationals'
    }]);
    runner.addData('dialog_start_getRaceInfo', {
        raceName: 'Test Race',
        raceType: 'HRM',
        regionId: 'MID'
    });
    runner.addData('sidebar_rankings_import', {
        lastUpdated: '26/04/2016',
        rankingsSize: 48910
    });
    runner.addData('sidebar_rankings_info', {
        lastUpdated: '24/04/2016',
        rankingsSize: 32323
    });
    runner.addData('getRaceSheetNamesHTML', ['Div1', 'Div2', 'Div3']);
    runner.addData('sidebar_rankings_last_updated', '23/04/2016');
    runner.addData('sidebar_entries_search', [{
        'First name': 'WILLIAM',
        'Surname': 'ABSON',
        'Club': 'RIC',
        'Class': 'S',
        'BCU Number': 231636,
        'Expiry': '2016-02-03',
        'Division': 4
    },{
        'First name': 'MIKE',
        'Surname': 'PIGOTT',
        'Club': 'RIC',
        'Class': 'S',
        'BCU Number': '49662/F',
        'Expiry': '2016-07-04',
        'Division': 5
    }]);
    runner.addData('sidebar_entries_add', {
        boatNumber: 301,
        crewName: 'ABSON',
        sheetName: 'Div1'
    });
    runner.addData('sidebar_entries_race_info', {
        divisions: ['1', '2', '3', '4', '5', '6'],
        classes: [
            ['S', 'Senior Male'],
            ['J', 'Junior Male'],
            ['V', 'Veteran Male']
        ],
        clubs: [['Addlestone CC', 'ADS', 'LS'], ['Richmond CC', 'RIC', 'LS'], ['Royal CC', 'ROY', 'LS']]
    });

    var google = {
        script: {
            run: runner,
            host: {
                close: function() {
                    alert('Dialog closed');
                }
            }
        }
    };
</script>
<style type="text/css">
    body {
        margin: 10px;
    }
    .sidebar-content {
        width: 300px;
    }
</style>